<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Formularz Koordynatora</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans p-6">

  <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-800">Dane Koordynatora</h2>

    <div class="grid grid-cols-1 md:grid-cols-5 gap-6 mb-8">
      <div>
        <label class="block mb-2 font-medium text-gray-700">Koordynator:</label>
        <select id="koordynator" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none">
          <option value="">-- wybierz --</option>
          <option>Jan Kowalski</option>
          <option>Anna Nowak</option>
        </select>
      </div>

      <div>
        <label class="block mb-2 font-medium text-gray-700">Uczelnia:</label>
        <select id="uczelnia" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none">
          <option value="">-- wybierz --</option>
          <option>UJ</option>
          <option>PW</option>
        </select>
      </div>

      <div>
        <label class="block mb-2 font-medium text-gray-700">Wydział:</label>
        <select id="wydzial" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none">
          <option value="">-- wybierz --</option>
          <option>WMiI</option>
          <option>WZiKS</option>
        </select>
      </div>

      <div>
        <label class="block mb-2 font-medium text-gray-700">Kierunek:</label>
        <select id="kierunek" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none">
          <option value="">-- wybierz --</option>
          <option>Informatyka</option>
          <option>Zarządzanie</option>
        </select>
      </div>

      <div>
        <label class="block mb-2 font-medium text-gray-700">Specjalność:</label>
        <select id="specjalnosc" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none">
          <option value="">-- wybierz --</option>
          <option>nie dotyczy</option>
          <option>Data Science</option>
          <option>Zarządzanie projektami</option>
          <option>Sieci komputerowe</option>
        </select>
      </div>
    </div>

    <hr class="my-8 border-gray-300" />

    <h2 class="text-2xl font-semibold mb-4 text-gray-800 text-center">Lista uczestników</h2>
    <div id="participants" class="space-y-6"></div>

    <button onclick="addParticipant()" 
      class="mt-6 w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition focus:outline-none focus:ring-4 focus:ring-blue-300">
      Dodaj uczestnika
    </button>

    <!-- Sekcja daty egzaminów -->
    <div id="examSection" class="mt-12 hidden">
      <hr class="my-8 border-gray-300" />
      <h2 class="text-2xl font-semibold mb-4 text-gray-800 text-center">Terminy egzaminów</h2>

      <div class="mb-6">
        <label for="egzaminProbny" class="block mb-2 font-medium text-gray-700">Data i godzina egzaminu próbnego:</label>
        <input type="datetime-local" id="egzaminProbny" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
      </div>

      <div class="mb-6">
        <label for="egzaminCert" class="block mb-2 font-medium text-gray-700">Data i godzina egzaminu CERT:</label>
        <input type="datetime-local" id="egzaminCert" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
      </div>
    </div>
  </div>

  <script>
    const now = new Date();
    const localNow = now.toISOString().slice(0, 16); // YYYY-MM-DDTHH:mm

    function addParticipant() {
      const uczelnia = document.getElementById('uczelnia').value;
      const wydzial = document.getElementById('wydzial').value;
      const kierunek = document.getElementById('kierunek').value;
      const specjalnosc = document.getElementById('specjalnosc').value;

      if (!uczelnia || !wydzial || !kierunek || !specjalnosc) {
        alert("Proszę uzupełnić wszystkie dane ogólne przed dodaniem uczestnika.");
        return;
      }

      const container = document.getElementById('participants');
      const div = document.createElement('div');
      div.className = 'participant border border-gray-300 rounded-lg p-6 bg-gray-50 shadow';

      div.innerHTML = `
        <div class="mb-4">
          <label class="block mb-1 font-medium text-gray-700">Imię i nazwisko uczestnika:</label>
          <input type="text" name="uczestnik[]" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
        </div>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div>
            <label class="block mb-1 font-medium text-gray-700">Uczelnia:</label>
            <input type="text" name="uczelnia[]" value="${uczelnia}" readonly class="w-full bg-gray-200 border border-gray-300 rounded-md p-2" />
          </div>
          <div>
            <label class="block mb-1 font-medium text-gray-700">Wydział:</label>
            <input type="text" name="wydzial[]" value="${wydzial}" readonly class="w-full bg-gray-200 border border-gray-300 rounded-md p-2" />
          </div>
          <div>
            <label class="block mb-1 font-medium text-gray-700">Kierunek:</label>
            <input type="text" name="kierunek[]" value="${kierunek}" readonly class="w-full bg-gray-200 border border-gray-300 rounded-md p-2" />
          </div>
          <div>
            <label class="block mb-1 font-medium text-gray-700">Specjalność:</label>
            <input type="text" name="specjalnosc[]" value="${specjalnosc}" readonly class="w-full bg-gray-200 border border-gray-300 rounded-md p-2" />
          </div>
        </div>
      `;

      container.appendChild(div);

      // Pokaz sekcję z egzaminami tylko gdy dodano przynajmniej jednego uczestnika
      document.getElementById('examSection').classList.remove('hidden');

      // Ustaw minimalne daty tylko raz (po pierwszym dodaniu)
      document.getElementById('egzaminProbny').min = localNow;
      document.getElementById('egzaminCert').min = localNow;
    }
  </script>

</body>
</html>


